==================================================================================
FULL MPI COMMUNICATION COMPARISON: Send/Recv vs Sendrecv
==================================================================================
Start time: Fri 19 Dec 2025 06:20:57 PM MSK
MPI version: gcc (GCC) 10.3.0
Allocated nodes: 2
Nodes list: g[1-2]
==================================================================================

TEST 1: Check node distribution and hostnames
==================================================================================
g1
g1
g2
g2

TEST 2: Single node (intra-node) - Process 0-1 on same node
==================================================================================
Separate Send/Recv (intra-node):
Size (bytes)         Time (ms)            Bandwidth (MB/s)    
1                    0.000580             3.29                
8                    0.000578             26.41               
64                   0.000729             167.52              
256                  0.001030             474.23              
1024                 0.001400             1395.33             
4096                 0.002667             2928.79             
16384                0.007978             3917.09             
65536                0.023747             5263.81             
262144               0.090794             5506.99             
1048576              0.346065             5779.27             
4194304              1.398802             5719.18             

Combined Sendrecv (intra-node):
Size (bytes)         Time (ms)            Bandwidth (MB/s)    
1                    0.000366             5.21                
8                    0.000358             42.63               
64                   0.000457             267.05              
256                  0.000609             801.98              
1024                 0.000806             2423.76             
4096                 0.001595             4898.99             
16384                0.004875             6410.00             
65536                0.018998             6579.65             
262144               0.054061             9248.75             
1048576              0.208186             9606.80             
4194304              0.709827             11270.35            

TEST 3: Cross-node - Process 0 on node1, Process 1 on node2
==================================================================================
Separate Send/Recv (cross-node):
Size (bytes)         Time (ms)            Bandwidth (MB/s)    
1                    0.262290             0.01                
8                    0.260944             0.06                
64                   0.267013             0.46                
256                  0.261529             1.87                
1024                 0.306886             6.36                
4096                 0.302135             25.86               
16384                0.710345             43.99               
65536                1.518072             82.34               
262144               5.605912             89.19               
1048576              19.009384            105.21              
4194304              72.498170            110.35              

Combined Sendrecv (cross-node):
Size (bytes)         Time (ms)            Bandwidth (MB/s)    
1                    0.110327             0.02                
8                    0.126191             0.12                
64                   0.120979             1.01                
256                  0.149743             3.26                
1024                 0.172018             11.35               
4096                 0.173083             45.14               
16384                0.398730             78.37               
65536                0.832626             150.13              
262144               5.064804             98.72               
1048576              18.347870            109.00              
4194304              71.894794            111.27              

TEST 4: Multiple pairs (4 processes, 2 nodes)
==================================================================================
Separate Send/Recv (2 pairs, 2 nodes):
Size (bytes)         Time (ms)            Bandwidth (MB/s)    
1                    0.015517             0.12                
8                    0.003276             4.66                
64                   0.003270             37.34               
256                  0.003676             132.82              
1024                 0.003996             488.73              
4096                 0.005320             1468.43             
16384                0.012142             2573.79             
65536                0.036783             3398.35             
262144               0.096997             5154.80             
1048576              0.344142             5811.55             
4194304              1.370621             5836.77             

Combined Sendrecv (2 pairs, 2 nodes):
Size (bytes)         Time (ms)            Bandwidth (MB/s)    
1                    0.007547             0.25                
8                    0.001713             8.91                
64                   0.001768             69.04               
256                  0.001969             247.97              
1024                 0.002152             907.51              
4096                 0.002894             2699.62             
16384                0.006879             4542.51             
65536                0.025519             4898.37             
262144               0.057165             8746.54             
1048576              0.191361             10451.45            
4194304              0.687947             11628.80            

TEST 5: Detailed performance comparison table
==================================================================================
Message Size | Intra-Node Send/Recv | Intra-Node Sendrecv | Cross-Node Send/Recv | Cross-Node Sendrecv
--------------------------------------------------------------------------------------------------------
1024 | 0.001ms (1719MB/s) | 0.001ms (2427MB/s) | 0.317ms (6MB/s) | 0.157ms (12MB/s)
4096 | 0.003ms (2764MB/s) | 0.002ms (4904MB/s) | 0.324ms (24MB/s) | 0.189ms (41MB/s)
16384 | 0.008ms (3904MB/s) | 0.005ms (6400MB/s) | 0.705ms (44MB/s) | 0.385ms (81MB/s)
65536 | 0.023ms (5352MB/s) | 0.019ms (6706MB/s) | 1.529ms (82MB/s) | 0.828ms (151MB/s)
262144 | 0.090ms (5537MB/s) | 0.056ms (8962MB/s) | 5.611ms (89MB/s) | 5.040ms (99MB/s)
1048576 | 0.340ms (5877MB/s) | 0.209ms (9547MB/s) | 18.942ms (106MB/s) | 18.384ms (109MB/s)

TEST 6: Speedup calculation
==================================================================================
Message Size | Intra-Node Speedup | Cross-Node Speedup
--------------------------------------------------------
1024 |  | 
16384 |  | 
