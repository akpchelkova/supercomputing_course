#!/bin/bash
echo "эксперименты с разным количеством потоков (100M разбиений):"
echo "============================================================"

# тестируем производительность при разном количестве потоков
for threads in 1 2 4 8 16; do
    echo "--- $threads потоков ---"
    # запускаем программу с фиксированным количеством разбиений и разным числом потоков
    OMP_NUM_THREADS=$threads ./integral 100000000
    echo ""
done
